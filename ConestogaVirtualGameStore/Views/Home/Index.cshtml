@using ConestogaVirtualGameStore.Models.ViewModels
@model GameSearchViewModel
@{
    ViewData["Title"] = "Home Page";
}

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

<span class="text-white bg-danger">@TempData["ExceptionMessage"]</span>
<span class="text-white bg-danger">@TempData["NotFoundIndex"]</span>

<form asp-action="Index" asp-controller="Home" method="GET">
    <p>
        Search by Title: <input type="text" name="search" />
        Category: <select asp-for="GameCategory" asp-items="Model.Categories">
            <option value="">All</option>
        </select>
        <input type="submit" value="Search" />
    </p>
</form>

<div class="row">
        @foreach (var item in Model.Games)
        {
                <div class="column">
                <div class="card" style="width:150px">
                    <a asp-action="GameDetails" asp-route-id="@item.Id" class="stretched-link">
                        <img class="card-img-top" src="@("~/Images/GameCovers/"+item.ImageName)" asp-append-version="true" alt="Card image" width="150px" height="90px">
                    </a>
                    <div class="card-body">
                        <h4 class="card-title">@item.Title</h4>
                        <p class="card-text">$@item.RetailPrice</p>
                    </div>
                </div>
                </div>
        }
</div>